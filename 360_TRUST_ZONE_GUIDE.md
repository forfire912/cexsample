# 360安全卫士 - 添加信任区操作指南

## ✅ 确认：您的电脑安装了 360安全卫士

检测结果：
- ✓ 360安全卫士：正在运行
- ✓ Windows Defender：已停止（被360接管）
- ✓ CTP_Trader.exe 被 360 删除

---

## 📋 立即操作步骤

### 步骤1：打开 360安全卫士

- 双击桌面上的 360 图标
- 或点击任务栏托盘中的 360 图标

### 步骤2：进入病毒查杀

```
主界面 → 左侧菜单 → [病毒查杀]
```

### 步骤3：打开信任区

```
病毒查杀界面 → 右上角 → [信任区]
```

**注意**：有些版本可能显示为：
- [白名单]
- [信任列表]
- [安全白名单]

### 步骤4：添加信任目录

1. 在信任区界面，点击 **[添加目录]** 或 **[添加文件]**

2. 在弹出的文件浏览器中，导航到：
   ```
   D:\projects\other\cexsample\bin
   ```

3. 选择 `bin` 文件夹

4. 点击 **[选择文件夹]** 或 **[确定]**

5. 确认 `D:\projects\other\cexsample\bin` 出现在信任区列表中

### 步骤5：恢复被删除的文件（重要！）

**如果程序已被360删除**，需要恢复：

1. 在 360 主界面，找到 **[恢复区]** 或 **[隔离区]**
   - 通常在：病毒查杀 → 恢复区
   - 或：设置 → 恢复区

2. 在列表中找到 `CTP_Trader.exe`

3. 勾选该文件

4. 点击 **[恢复]** 或 **[信任并恢复]**

5. 选择恢复到原位置

**如果找不到文件**：
- 说明被彻底删除
- 需要重新编译（见步骤6）

### 步骤6：重新编译程序

如果文件无法恢复，在 PowerShell 中执行：

```powershell
cd D:\projects\other\cexsample
.\build.ps1
```

**编译成功标志**：
```
==========================================
   Build Successful!
   Executable: bin\CTP_Trader.exe
==========================================
```

### 步骤7：验证文件存在

```powershell
Test-Path "bin\CTP_Trader.exe"
```

应该显示：`True`

### 步骤8：运行程序

```powershell
.\run.bat
```

或直接双击：`bin\CTP_Trader.exe`

---

## 🔍 360安全卫士界面导航

### 主界面布局（参考）：

```
┌──────────────────────────────────────┐
│  360安全卫士                          │
├──────────────────────────────────────┤
│ [主页]                        [≡设置] │
│ [病毒查杀] ← 点击这里                 │
│ [清理加速]                            │
│ [优化加速]                            │
│ [功能大全]                            │
└──────────────────────────────────────┘
```

### 病毒查杀界面：

```
┌──────────────────────────────────────┐
│  病毒查杀                  [信任区] ← │
├──────────────────────────────────────┤
│  [快速查杀]                           │
│  [全盘查杀]                           │
│  [自定义查杀]                         │
│                                       │
│  [恢复区/隔离区] ← 找回被删除的文件    │
└──────────────────────────────────────┘
```

### 信任区界面：

```
┌──────────────────────────────────────┐
│  信任区              [添加目录] ←点这  │
├──────────────────────────────────────┤
│  已信任的文件和目录列表：              │
│  □ D:\projects\other\cexsample\bin    │
│     └─ CTP_Trader.exe                │
│                                       │
│  [删除]  [清空列表]                   │
└──────────────────────────────────────┘
```

---

## ⚠️ 常见问题

### Q1: 找不到"信任区"按钮？

**可能的位置**：
- 病毒查杀 → 右上角工具栏
- 设置 → 白名单设置
- 病毒查杀 → 更多工具 → 白名单

**不同版本名称**：
- 信任区
- 白名单
- 安全白名单
- 信任列表

### Q2: 添加信任后还是被删除？

**检查项**：
1. 确认添加的是 **整个 bin 文件夹**，而不是单个文件
2. 检查 360 的实时防护是否开启
3. 尝试添加文件的绝对路径

**解决方法**：
```
信任区 → 添加目录 → 完整路径
D:\projects\other\cexsample\bin
```

### Q3: 恢复区找不到被删除的文件？

**可能原因**：
1. 文件被彻底删除（超过保留期限）
2. 设置中关闭了"隔离可疑文件"功能

**解决方法**：
- 重新编译：`.\build.ps1`
- 立即添加信任区，避免再次删除

### Q4: 添加信任后编译，程序还是消失？

**检查其他安全软件**：
```powershell
Get-Process | Where-Object {$_.Name -match 'Huorong|Tencent|Kasper'}
```

**多个安全软件需要逐一添加信任**

---

## 🎯 完整操作清单

完成以下所有步骤：

- [ ] 1. 打开 360安全卫士
- [ ] 2. 进入 [病毒查杀]
- [ ] 3. 点击 [信任区]
- [ ] 4. 添加目录：`D:\projects\other\cexsample\bin`
- [ ] 5. 确认目录在信任列表中
- [ ] 6. 进入 [恢复区/隔离区]
- [ ] 7. 查找 `CTP_Trader.exe`
- [ ] 8. 恢复文件（如果有）
- [ ] 9. 或重新编译：`.\build.ps1`
- [ ] 10. 验证文件存在：`Test-Path "bin\CTP_Trader.exe"`
- [ ] 11. 运行程序：`.\run.bat`
- [ ] 12. 确认程序正常启动且未被删除

---

## 📞 完成后反馈

**成功标志**：
✅ 信任区中有 `D:\projects\other\cexsample\bin`
✅ 程序编译成功
✅ 运行后 5 秒文件仍然存在
✅ 程序界面正常显示

**如果仍有问题**：
- 截图 360 信任区设置
- 提供错误信息
- 检查是否有其他安全软件

---

**现在就去操作吧！完成后告诉我结果！** 🚀
